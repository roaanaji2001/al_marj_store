<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ù…Ø±Ø¬ Almarj store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* ********* Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª ********* */
        :root {
            --main-text-color: #000;
            --accent-color: #FF1493; /* ÙˆØ±Ø¯ÙŠ ÙØ§Ù‚Ø¹ Ù„Ù„ØªØ±ÙƒÙŠØ² */
            --bg-color: #ffffff;
            --sidebar-bg: #f9f9f9; 
            --border-color: #eee;
        }

        /* ********* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ********* */
        body {
            font-family: 'Tahoma', 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: #f7f7f7;
            min-height: 100vh;
        }

        /* ********* Ø´Ø±ÙŠØ· Ø§Ù„Ø±Ø£Ø³ - Ø§Ù„Ø´Ø¹Ø§Ø± ÙˆØ§Ù„ØªÙˆØ³ÙŠØ· ********* */
        header {
            background: var(--bg-color);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            height: 60px;
        }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø´Ø¹Ø§Ø±/Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ø¬Ù…ÙŠÙ„ ÙˆØ§Ù„Ù…ÙÙˆØ³Ù‘ÙØ· */
        .store-title {
            font-size: 28px;
            font-weight: 900;
            color: var(--main-text-color);
            letter-spacing: 1px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.05);
            margin: 0;
            padding: 0;
            cursor: pointer; /* Ù„Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø£Ù†Ù‡ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø¶ØºØ· */
        }
        .store-title span {
            color: var(--accent-color); 
        }

        /* ********* Ø²Ø± Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ Ø§Ù„Ø«Ø§Ø¨Øª Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± ********* */
        .fixed-cart-button {
            position: fixed;
            left: 20px;
            bottom: 30px; 
            background: var(--main-text-color);
            color: white;
            border: 3px solid var(--accent-color); 
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 150;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--accent-color);
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 11px;
            line-height: 1;
            font-weight: bold;
        }

        /* ********* Ù‡ÙŠÙƒÙ„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Sidebar + Content) ********* */
        .main-layout {
            display: grid;
            grid-template-columns: 250px 1fr; 
            max-width: 1400px;
            margin: 0 auto;
            background: var(--bg-color);
            min-height: calc(100vh - 60px);
        }
        
        /* ********* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Sidebar) ********* */
        .sidebar {
            background: var(--sidebar-bg);
            padding: 20px 15px;
            border-left: 1px solid var(--border-color);
            position: sticky; 
            top: 60px; 
            height: calc(100vh - 60px);
            overflow-y: auto;
        }

        .sidebar h4 {
            font-size: 18px;
            color: var(--main-text-color);
            margin-top: 25px;
            padding-bottom: 5px;
            border-bottom: 2px solid var(--accent-color);
            font-weight: bold;
        }

        .sidebar-links a {
            display: block;
            color: #555;
            text-decoration: none;
            padding: 8px 10px;
            margin: 5px 0;
            border-radius: 4px;
            transition: background 0.2s, color 0.2s;
        }

        .sidebar-links a:hover {
            background: var(--accent-color);
            color: white;
            font-weight: bold;
        }
        
        .sidebar input[type="search"] {
            width: 100%;
            padding: 10px;
            font-size: 14px;
            border-radius: 20px;
            border: 1px solid #ddd;
            margin-bottom: 15px;
            box-sizing: border-box;
            text-align: right;
        }

        /* ********* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ********* */
        .content-area {
            padding: 20px;
        }

        .products {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
        }
        
        /* ********* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ù†ØªØ¬ (Ø£Ù†ÙŠÙ‚Ø© ÙˆÙˆØ§Ø¶Ø­Ø©) ********* */
        .product {
            background: var(--bg-color);
            border: none; 
            padding: 0;
            border-radius: 6px;
            text-align: right;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s;
            cursor: pointer; /* Ø¬Ø¹Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø¶ØºØ· */
        }
        
        .product:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
        }

        .product img {
            width: 100%;
            height: 280px;
            object-fit: cover;
            display: block;
            pointer-events: none; /* Ù„Ù…Ù†Ø¹ ØªØ¯Ø§Ø®Ù„ Ø§Ù„Ø­Ø¯Ø« Ù…Ø¹ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
        }

        .product-details {
            padding: 10px 15px;
        }

        .product h3 {
            font-size: 15px;
            margin: 5px 0 0;
            font-weight: bold;
            color: #333;
        }
        
        .product small {
            display: block;
            color: #999;
            font-size: 12px;
            margin-bottom: 5px;
        }

        .product p {
            font-size: 18px;
            font-weight: bold;
            color: var(--accent-color);
        }

        .product button {
            padding: 10px;
            background: var(--main-text-color);
            color: var(--bg-color);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            margin-top: 5px;
            transition: background 0.2s;
        }

        .product button:hover {
            background: var(--accent-color);
        }

        /* ********* Ø´Ø§Ø´Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Modal) ********* */
        #product-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 300;
            overflow-y: auto;
            padding: 20px;
        }

        .detail-content {
            background: var(--bg-color);
            max-width: 700px;
            margin: 50px auto;
            padding: 30px;
            border-radius: 8px;
            position: relative;
            text-align: right;
        }

        .detail-content h2, .detail-content h3 {
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .detail-content img {
            max-width: 100%;
            height: auto;
            border-radius: 6px;
            margin-bottom: 15px;
        }

        .detail-info p {
            font-size: 16px;
            margin: 8px 0;
            line-height: 1.6;
        }

        .detail-info span {
            font-weight: bold;
            color: var(--main-text-color);
            display: inline-block;
            min-width: 120px;
        }
        
        /* Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ */
        .close-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 30px;
            color: #555;
            cursor: pointer;
            border: none;
            background: none;
        }
        
        .detail-buttons button {
            padding: 12px 25px;
            background: var(--main-text-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .detail-buttons button:hover {
            background: var(--accent-color);
        }

        /* ********* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ÙŠØ© (Ù„Ù„Ù‡ÙˆØ§ØªÙ) ********* */
        @media (max-width: 850px) {
            .main-layout {
                grid-template-columns: 1fr; 
            }
            .sidebar {
                position: static; 
                height: auto;
                border-left: none;
                border-bottom: 1px solid var(--border-color);
                padding: 15px;
            }
            .products {
                grid-template-columns: 1fr 1fr;
            }
            .detail-content {
                margin: 20px 10px;
            }
        }
        
    </style>
</head>

<body>

    <header>
        <h1 class="store-title" onclick="renderProducts(productsList)">Ù…Ù†ØµØ© ØªØ¬Ù…Ø¹ Ø£ÙØ¶Ù„ Ø§Ù„Ù…ØªØ§Ø¬Ø± ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯</h1>
    </header>

    <div class="fixed-cart-button" onclick="toggleCart()">
        ğŸ›’ <span id="item-count" class="cart-count">0</span>
    </div>

    <div class="main-layout">
        
        <div class="sidebar">
            
            <input type="search" id="searchBox" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø£Ùˆ Ø³ÙˆÙ‚..." oninput="searchProducts()">
            
            <h4>ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h4>
            <div class="sidebar-links">
                <a href="#" onclick="renderProducts(productsList)">Ø§Ù„ÙƒÙ„</a>
                <a href="#" onclick="filterCategory('clothes')">Ù…Ù„Ø§Ø¨Ø³</a>
                <a href="#" onclick="filterCategory('makeup')">Ù…ÙƒÙŠØ§Ø¬</a>
                <a href="#" onclick="filterCategory('accessories')">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</a>
                <a href="#" onclick="filterCategory('perfumes')">Ø¹Ø·ÙˆØ±</a>
                <a href="#" onclick="filterCategory('skincare')">Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©</a>
            </div>

            <h4>Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ ÙˆØ§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©</h4>
            <div class="sidebar-links">
                <a href="#" onclick="filterBrand('Zara')">Ø³ÙˆÙ‚ Ø²Ø§Ø±Ø§ (Zara)</a>
                <a href="#" onclick="filterBrand('Huda Beauty')">Huda Beauty</a>
                <a href="#" onclick="filterBrand('Tiffany')">Tiffany</a>
                <a href="#" onclick="filterBrand('Oud Al Saqar')">Ø§Ù„Ø¹ÙˆØ¯ Ø§Ù„ØµÙ‚Ø±</a>
                <a href="#" onclick="filterBrand('Local Seller A')">Ø§Ù„Ø¨Ø§Ø¦Ø¹ Ø§Ù„Ù…Ø­Ù„ÙŠ (Ø£)</a>
            </div>

        </div>

        <div class="content-area">
            <div class="products" id="products">
                </div>
        </div>

    </div>
    
    <div id="product-detail-modal">
        <div class="detail-content" id="detail-content">
            </div>
    </div>


    <div class="cart-modal" id="cart-modal">
        <h3>Ø§Ù„Ø³Ù„Ø© <button onclick="toggleCart()" style="float: left; background: none; border: none; font-size: 20px; color: #333;">âœ–</button></h3>
        <div id="cart-items"></div>
        <div class="cart-footer">
            <p>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="total">0</span> Ø¯.Ù„</p>
            <button onclick="showCheckout()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    <div class="checkout-form" id="checkout-form">
        <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙØ¹</h3>
        <input type="text" id="customer-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="text" id="customer-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
        <input type="text" id="customer-address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
        <button onclick="placeOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
        <button onclick="closeCheckout()" style="background: #999;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <script>
        const productsList = [
            // *ØªÙ†Ø¨ÙŠÙ‡: ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø®Ø§ØµÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª*
            { id:1, name:"ÙØ³ØªØ§Ù† Ø³Ù‡Ø±Ø© Ø£Ù†ÙŠÙ‚", price:99, category:"clothes", img:"https://via.placeholder.com/300x400/000000/ffffff?text=DRESS", brand:"Zara", sellerName:"Ù…ØªØ¬Ø± Ø§Ù„Ù…ÙˆØ¶Ø©", sellerPhone:"0910000000", commission:5, description:"ÙØ³ØªØ§Ù† Ø³Ù‡Ø±Ø© Ù†Ø³Ø§Ø¦ÙŠ Ù…Ù† Ù‚Ù…Ø§Ø´ Ø§Ù„Ø­Ø±ÙŠØ±ØŒ ØªØµÙ…ÙŠÙ… Ø¨Ø³ÙŠØ· ÙˆØ£Ù†ÙŠÙ‚ ÙˆÙ…Ù†Ø§Ø³Ø¨ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª." }, 
            { id:2, name:"Ø±ÙˆØ¬ Ø³Ø§Ø¦Ù„ Ø«Ø§Ø¨Øª", price:35, category:"makeup", img:"https://via.placeholder.com/300x400/FF1493/ffffff?text=ROUGE", brand:"Huda Beauty", sellerName:"Ù…ÙƒÙŠØ§Ø¬ÙŠ", sellerPhone:"0920000000", commission:7, description:"Ø±ÙˆØ¬ Ø³Ø§Ø¦Ù„ Ø¨ØªØ±ÙƒÙŠØ¨Ø© Ø«Ø§Ø¨ØªØ© ØªØ¯ÙˆÙ… 24 Ø³Ø§Ø¹Ø©ØŒ Ù…Ù‚Ø§ÙˆÙ… Ù„Ù„Ù…Ø§Ø¡ ÙˆØ¨Ø£Ù„ÙˆØ§Ù† Ø¹ØµØ±ÙŠØ©." }, 
            { id:3, name:"Ø¹Ø·Ø± Ù‚ØµØ©", price:90, category:"perfumes", img:"https://via.placeholder.com/300x400/333333/ffffff?text=PERFUME", brand:"Oud Al Saqar", sellerName:"Ø§Ù„Ø¹ÙˆØ¯ Ø§Ù„ØµÙ‚Ø±", sellerPhone:"0940000000", commission:5, description:"Ø¹Ø·Ø± Ø¥Ù…Ø§Ø±Ø§ØªÙŠ Ø¬Ù…ÙŠÙ„ØŒ Ø«Ø§Ø¨Øª ÙˆÙÙˆÙ‘Ø§Ø­ØŒ ÙŠØ¯ÙˆÙ… Ù„Ø³Ø§Ø¹Ø§Øª Ø·ÙˆÙŠÙ„Ø©. ÙØ¦Ø© Ø§Ù„Ø¹Ø·ÙˆØ±: Ø¹Ø·ÙˆØ± - Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©." },
            { id:4, name:"ÙƒØ±ÙŠÙ… Ù…Ø±Ø·Ø¨ ÙŠÙˆÙ…ÙŠ", price:65, category:"skincare", img:"https://via.placeholder.com/300x400/00bcd4/ffffff?text=CREAM", brand:"Local Seller A", sellerName:"Ø¨Ø§Ø¦Ø¹ Ù…Ø­Ù„ÙŠ (Ø£)", sellerPhone:"0919999999", commission:10, description:"ÙƒØ±ÙŠÙ… Ù…Ø±Ø·Ø¨ Ù„Ù„Ø¨Ø´Ø±Ø© Ø§Ù„Ø¬Ø§ÙØ© ÙˆØ§Ù„Ø­Ø³Ø§Ø³Ø©ØŒ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙÙŠØªØ§Ù…ÙŠÙ† E ÙˆH. ÙŠØ³ØªØ®Ø¯Ù… ØµØ¨Ø§Ø­Ø§Ù‹ ÙˆÙ…Ø³Ø§Ø¡Ù‹." },
            { id:5, name:"Ø·Ù‚Ù… ÙØ±Ø´ Ù…ÙƒÙŠØ§Ø¬", price:120, category:"makeup", img:"https://via.placeholder.com/300x400/9c27b0/ffffff?text=BRUSHES", brand:"Morphe", sellerName:"Ù…ÙƒÙŠØ§Ø¬ÙŠ", sellerPhone:"0920000000", commission:7, description:"Ø·Ù‚Ù… ÙØ±Ø´ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ù€ 12 Ù‚Ø·Ø¹Ø©ØŒ Ù…Ø«Ø§Ù„ÙŠØ© Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…ÙƒÙŠØ§Ø¬." },
            { id:6, name:"Ø³Ø§Ø¹Ø© ÙŠØ¯ Ø°Ù‡Ø¨ÙŠØ©", price:180, category:"accessories", img:"https://via.placeholder.com/300x400/F5A623/ffffff?text=WATCH", brand:"Tiffany", sellerName:"Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§ØªÙŠ", sellerPhone:"0920101010", commission:5, description:"Ø³Ø§Ø¹Ø© ÙŠØ¯ Ù†Ø³Ø§Ø¦ÙŠØ© Ø¨ØªØµÙ…ÙŠÙ… ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØŒ Ù…Ø·Ù„ÙŠØ© Ø¨Ø§Ù„Ø°Ù‡Ø¨ ÙˆÙ…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ù…Ø§Ø¡." },
        ];

        let cart = [];

        // *************** ÙˆØ¸ÙŠÙØ© Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ***************
        function showProductDetails(id) {
            const product = productsList.find(p => p.id === id);
            const modal = document.getElementById('product-detail-modal');
            const content = document.getElementById('detail-content');

            content.innerHTML = `
                <button class="close-btn" onclick="closeProductDetails()">âœ–</button>
                
                <h2>${product.name}</h2>
                <img src="${product.img}" alt="${product.name}">

                <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø§Ø¦Ø¹</h3>
                <div class="detail-info">
                    <p><span>Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±:</span> ${product.brand}</p>
                    <p><span>ØµØ§Ø­Ø¨ Ø§Ù„Ù…ØªØ¬Ø±:</span> ${product.sellerName}</p>
                    <p><span>Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„:</span> <a href="tel:${product.sellerPhone}">${product.sellerPhone}</a></p>
                    <p><span>Ø§Ù„ÙØ¦Ø§Øª:</span> ${product.category} - ${product.brand}</p>
                    <p><span>Ø¹Ù…ÙˆÙ„ØªÙƒ:</span> ${product.commission}%</p>
                </div>

                <h3>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„ØªÙØ§ØµÙŠÙ„</h3>
                <div class="detail-info">
                    <p><span>Ø§Ù„Ø³Ø¹Ø±:</span> ${product.price} Ø¯ÙŠÙ†Ø§Ø±</p>
                    <p><span>Ø§Ù„ÙˆØµÙ:</span> ${product.description}</p>
                </div>
                
                <div class="detail-buttons" style="margin-top: 30px;">
                    <button onclick="addToCart(${product.id}); closeProductDetails();">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
                    <button style="background: var(--accent-color);">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                </div>
            `;
            modal.style.display = 'block';
        }

        function closeProductDetails() {
            document.getElementById('product-detail-modal').style.display = 'none';
        }
        // *************** Ù†Ù‡Ø§ÙŠØ© ÙˆØ¸ÙŠÙØ© Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ***************


        function renderProducts(list) {
            const listToRender = Array.isArray(list) ? list : productsList;

            if (listToRender.length === 0) {
                document.getElementById('products').innerHTML = '<p style="text-align:center; padding:50px; width:100%;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨Ø­Ø« Ø£Ùˆ Ø§Ù„ÙÙ„ØªØ±Ø©.</p>';
                return;
            }

            document.getElementById('products').innerHTML = listToRender.map(p => `
                <div class="product" onclick="showProductDetails(${p.id})">
                    <img src="${p.img}" alt="${p.name}">
                    <div class="product-details">
                        <h3>${p.name}</h3>
                        <small>Ø§Ù„Ø³ÙˆÙ‚: ${p.brand}</small> 
                        <p>${p.price} Ø¯.Ù„</p>
                        <button onclick="event.stopPropagation(); addToCart(${p.id});">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
                    </div>
                </div>
            `).join('');
        }

        function addToCart(id) {
            const product = productsList.find(p => p.id === id);
            cart.push(product);
            renderCart();
        }

        function renderCart() {
            document.getElementById('item-count').innerText = cart.length; 

            document.getElementById('cart-items').innerHTML = cart.map((item, index) => `
                <div class="cart-item">
                    <span>${item.name} (${item.price} Ø¯.Ù„)</span>
                    <button onclick="removeItem(${index})">Ø­Ø°Ù</button>
                </div>
            `).join('');

            const total = cart.reduce((sum, i) => sum + i.price, 0);
            document.getElementById('total').innerText = total;
        }

        function removeItem(i) {
            cart.splice(i, 1);
            renderCart();
        }

        function filterCategory(cat) {
            renderProducts(productsList.filter(p => p.category === cat));
        }
        
        function filterBrand(brandName) {
            renderProducts(productsList.filter(p => p.brand === brandName));
        }

        function searchProducts() {
            const t = document.getElementById('searchBox').value.toLowerCase();
            renderProducts(productsList.filter(p => 
                p.name.toLowerCase().includes(t) || 
                p.brand.toLowerCase().includes(t)
            ));
        }

        function toggleCart() {
            const cartModal = document.getElementById('cart-modal');
            cartModal.classList.toggle('open');
        }

        function showCheckout() {
            if (cart.length === 0) {
                alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©. ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ù‚Ø¨Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨.");
                return;
            }
            toggleCart();
            document.getElementById('overlay').style.display = "block";
            document.getElementById('checkout-form').style.display = "block";
        }

        function closeCheckout() {
            document.getElementById('overlay').style.display = "none";
            document.getElementById('checkout-form').style.display = "none";
        }

        function placeOrder() {
            const name = document.getElementById('customer-name').value;
            const phone = document.getElementById('customer-phone').value;
            if (!name || !phone) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù„Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨.");
                return;
            }

            alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ğŸŒ¸ Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.");

            cart = [];
            renderCart();
            closeCheckout();
        }

        renderProducts(productsList);
    </script>

</body>

</html>